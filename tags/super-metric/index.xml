<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>Super Metric on Dale Hassinger</title>
        <link>https://vcrocs.info/tags/super-metric/</link>
        <description>Recent content in Super Metric on Dale Hassinger</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>en</language>
        <copyright>Dale Hassinger</copyright>
        <lastBuildDate>Wed, 04 Jun 2025 00:00:00 +0000</lastBuildDate><atom:link href="https://vcrocs.info/tags/super-metric/index.xml" rel="self" type="application/rss+xml" /><item>
        <title>VCF Operations | CPU|Overcommit Details</title>
        <link>https://vcrocs.info/vcf-operations-cpuovercommit-details/</link>
        <pubDate>Wed, 04 Jun 2025 00:00:00 +0000</pubDate>
        
        <guid>https://vcrocs.info/vcf-operations-cpuovercommit-details/</guid>
        <description>&lt;img src="https://vcrocs.info/vcf-operations-cpuovercommit-details/featured-image.png" alt="Featured image of post VCF Operations | CPU|Overcommit Details" /&gt;&lt;p&gt;&lt;strong&gt;See your CPU|Overcommit at the Datacenter, Cluster and Host level.&lt;/strong&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;blockquote&gt;
&lt;p&gt;My CPU usage is like my Energy Drink intake — dangerously high and probably not sustainable.&lt;/p&gt;&lt;/blockquote&gt;
&lt;hr&gt;
&lt;h2 id=&#34;cpuovercommit&#34;&gt;CPU|Overcommit:
&lt;/h2&gt;&lt;p&gt;Many of my blog posts stem from real-world questions I encounter. Recently, someone asked about the CPU|Overcommit ratio for a specific ESXi host. When I checked VCF Operations, I noticed that CPU|Overcommit metrics were available at the Datacenter and Cluster levels—but not at the Host level.&lt;/p&gt;
&lt;p&gt;To address this gap, I built a Super Metric to calculate the CPU|Overcommit ratio at the host level. You can find the Super Metric formula below.&lt;/p&gt;
&lt;p&gt;To make it easier to visualize CPU|Overcommit ratios across all levels—Datacenter, Cluster, and Host—I also created a custom dashboard. An example of this dashboard is shown below.&lt;/p&gt;
&lt;p&gt;CPU|Overcommit isn’t inherently a bad thing—in fact, it’s one of the main reasons we virtualize: to efficiently share physical resources across VMs. The key is finding a CPU|Overcommit ratio that works for your specific environment and workloads.&lt;/p&gt;
&lt;p&gt;That’s why I included the VM Details widget in the dashboard—to help you monitor important metrics like CPU|Ready (ms). Different workloads and use cases will tolerate different levels of overcommit, so keep an eye on performance indicators and adjust accordingly.&lt;/p&gt;
&lt;p&gt;By default, the CPU|Ready (ms) metric is not enabled in VMware Aria Operations. To activate it, navigate to Operations &amp;gt; Configuration &amp;gt; Policy Definition. Select your Default Policy, then click Edit Policy. Under Metrics and Properties, use the filter to search for &amp;ldquo;cpu|ready&amp;rdquo;. Select Virtual Machine, expand Metrics, then CPU. You’ll find Ready (ms) listed as Deactivated—switch it to Activated and save your changes.&lt;/p&gt;
&lt;p&gt;Allow for a few collection cycles (typically 10–15 minutes), and the CPU Ready (ms) metric will become available for monitoring VM performance.&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;dashboard-example&#34;&gt;Dashboard Example:
&lt;/h2&gt;&lt;p&gt;&lt;img src=&#34;https://vcrocs.info/vcf-operations-cpuovercommit-details/cpu-overcommit-01.png&#34;
	width=&#34;4990&#34;
	height=&#34;2474&#34;
	srcset=&#34;https://vcrocs.info/vcf-operations-cpuovercommit-details/cpu-overcommit-01_hu_bf5b05617cb4ef65.png 480w, https://vcrocs.info/vcf-operations-cpuovercommit-details/cpu-overcommit-01_hu_5a37f93253c7d33d.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;201&#34;
		data-flex-basis=&#34;484px&#34;
	
&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;super-metric&#34;&gt;Super Metric:
&lt;/h2&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;{‌ This Resource: ‌cpu|vcpus_allocated_on_all_powered_on_vms}/{‌This Resource: ‌cpu|corecount_provisioned }
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;hr&gt;
&lt;p&gt;&lt;img src=&#34;https://vcrocs.info/vcf-operations-cpuovercommit-details/cpu-overcommit-02.png&#34;
	width=&#34;2442&#34;
	height=&#34;1174&#34;
	srcset=&#34;https://vcrocs.info/vcf-operations-cpuovercommit-details/cpu-overcommit-02_hu_471e816b0025729b.png 480w, https://vcrocs.info/vcf-operations-cpuovercommit-details/cpu-overcommit-02_hu_bb7f4c4a6c7f4629.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;208&#34;
		data-flex-basis=&#34;499px&#34;
	
&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;lessons-learned&#34;&gt;Lessons Learned:
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;Host CPU|Overcommit isn&amp;rsquo;t a metric available OOTB (Out of the Box).&lt;/li&gt;
&lt;li&gt;You can download all the components used to build this dashboard from my &lt;a class=&#34;link&#34; href=&#34;https://github.com/dalehassinger/unlocking-the-potential/tree/main/VMware-Aria-Operations/Dashboards/CPU-Overcommit&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;GitHub repository&lt;/a&gt;:
&lt;ul&gt;
&lt;li&gt;7 Custom Views&lt;/li&gt;
&lt;li&gt;1 Super Metric&lt;/li&gt;
&lt;li&gt;1 Dashboard&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Be sure to activate the CPU|Ready (ms) metric, as it’s required for displaying data in the VM Details widget.&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;p&gt;In my blogs, I often emphasize that there are multiple methods to achieve the same objective. This article presents just one of the many ways you can tackle this task. I&amp;rsquo;ve shared what I believe to be an effective approach for this particular use case, but keep in mind that every organization and environment varies. There&amp;rsquo;s no definitive right or wrong way to accomplish the tasks discussed in this article.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;Always test new setups and processes, like those discussed in this blog, in a lab environment before implementing them in a production environment.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;If you found this blog helpful, consider buying me a coffee to kickstart my day.&lt;/p&gt;
&lt;center&gt;
&lt;script type=&#34;text/javascript&#34; src=&#34;https://cdnjs.buymeacoffee.com/1.0.0/button.prod.min.js&#34; data-name=&#34;bmc-button&#34; data-slug=&#34;dalehassinger&#34; data-color=&#34;#FFDD00&#34; data-emoji=&#34;&#34;  data-font=&#34;Cookie&#34; data-text=&#34;Buy me a coffee&#34; data-outline-color=&#34;#000000&#34; data-font-color=&#34;#000000&#34; data-coffee-color=&#34;#ffffff&#34; &gt;&lt;/script&gt;
&lt;/center&gt;
&lt;hr&gt;</description>
        </item>
        <item>
        <title>VMware Aria Operations | Use vCenter TAGS/Custom Groups/Super Metrics to get VM Details</title>
        <link>https://vcrocs.info/vmware-aria-operations-use-vcenter-tags/custom-groups/super-metrics-to-get-vm-details/</link>
        <pubDate>Fri, 26 Jan 2024 00:00:00 +0000</pubDate>
        
        <guid>https://vcrocs.info/vmware-aria-operations-use-vcenter-tags/custom-groups/super-metrics-to-get-vm-details/</guid>
        <description>&lt;img src="https://vcrocs.info/vmware-aria-operations-use-vcenter-tags/custom-groups/super-metrics-to-get-vm-details/featured-image.png" alt="Featured image of post VMware Aria Operations | Use vCenter TAGS/Custom Groups/Super Metrics to get VM Details" /&gt;&lt;p&gt;&lt;strong&gt;How to group VMs together in VMware Aria Operations using vCenter TAGs and show resource usage totals across all VMs within the custom group&lt;/strong&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;vmware-aria-operations&#34;&gt;VMware Aria Operations
&lt;/h2&gt;&lt;p&gt;VMware Aria Operations 8.14.1 was used for this Blog Post. When new versions of VMware Aria Operations are released, the code or process may need to be changed.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;I was recently asked how to create a VMware Aria Operations Dashboard that groups VMs together by vCenter TAGs. IE: If there is 100 VMs in vCenter that have a TAG Named &amp;ldquo;Servers-DB&amp;rdquo;, they wanted to see the CPU, Memory, Disk Space, and Critical Alerts Totals for all VMs with that vCenter TAG. They have many vCenter TAGs and each TAG would be on a single line with only Total Values shown.&lt;/p&gt;
&lt;p&gt;See the screenshot that shows the final Dashboard Design.&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;dashboard-design&#34;&gt;Dashboard Design
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;The left side of the Dashboard shows all the Custom Groups that were created based on vCenter TAGs. The values shown on each row are the Metric Totals for all VMs that have the same vCenter TAG.&lt;/li&gt;
&lt;li&gt;The left side is a View so that all the data can be exported as a CSV file.&lt;/li&gt;
&lt;li&gt;The right side of the Dashboard is a view that shows the VM details. The right side is optional. I added the right side to show that the Super Metrics were calculating the metric totals correct.&lt;/li&gt;
&lt;li&gt;Each metric shown requires a Super Metric to Sum the values within the Custom Group.&lt;/li&gt;
&lt;li&gt;Each row shown requires a Custom Group to define which vCenter TAG to use.&lt;/li&gt;
&lt;li&gt;Watch the videos below to see the details on how to create this Dashboard.&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id=&#34;screen-shot-of-dashboard&#34;&gt;Screen Shot of Dashboard
&lt;/h2&gt;&lt;p&gt;&lt;img src=&#34;https://vcrocs.info/vmware-aria-operations-use-vcenter-tags/custom-groups/super-metrics-to-get-vm-details/vm-info-vcenter-tags-02.png&#34;
	width=&#34;1486&#34;
	height=&#34;836&#34;
	srcset=&#34;https://vcrocs.info/vmware-aria-operations-use-vcenter-tags/custom-groups/super-metrics-to-get-vm-details/vm-info-vcenter-tags-02_hu_d0ed3ebe6dfc7145.png 480w, https://vcrocs.info/vmware-aria-operations-use-vcenter-tags/custom-groups/super-metrics-to-get-vm-details/vm-info-vcenter-tags-02_hu_8e954f7bb61e973c.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;177&#34;
		data-flex-basis=&#34;426px&#34;
	
&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;To group VMs together in VMware Aria Operations based on vCenter TAGs, you use Custom Groups. Custom Groups have a group type. I created (2) new Group Types for this Dashboard. I named one Group Type &amp;ldquo;Applications&amp;rdquo; and one Group Type &amp;ldquo;All-APPs&amp;rdquo;. &amp;ldquo;All-APPs&amp;rdquo; is the Parent Group and &amp;ldquo;Applications&amp;rdquo; is the child group.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;Watch video to see how to define VMware Aria Operations Custom Group membership based on a vCenter TAG Name:&lt;/p&gt;
&lt;div class=&#34;video-wrapper&#34;&gt;
    &lt;iframe loading=&#34;lazy&#34; 
            src=&#34;https://www.youtube.com/embed/gt099N3DpXU&#34; 
            allowfullscreen 
            title=&#34;YouTube Video&#34;
    &gt;
    &lt;/iframe&gt;
&lt;/div&gt;

&lt;hr&gt;
&lt;p&gt;To show the Metric Totals of each Custom Group, we created Super Metrics to sum the value of all the VMs within the Custom Group. If you were only using one vCenter TAG and one Custom Group, you would not need to do this. We wanted to show the Metric Values of a 100+ vCenter TAGs and each vCenter TAG would be on a separate line. That is why we created the Super Metrics.&lt;/p&gt;
&lt;p&gt;Watch video to see how to create VMware Aria Operations Super Metrics to total Virtual Machine Metrics:&lt;/p&gt;
&lt;div class=&#34;video-wrapper&#34;&gt;
    &lt;iframe loading=&#34;lazy&#34; 
            src=&#34;https://www.youtube.com/embed/MpyVlj4whvc&#34; 
            allowfullscreen 
            title=&#34;YouTube Video&#34;
    &gt;
    &lt;/iframe&gt;
&lt;/div&gt;

&lt;hr&gt;
&lt;p&gt;To show all the Custom Groups names and Super Metric values we created a View. Main reason to create the View was to be able to export the data as a CSV file.&lt;/p&gt;
&lt;p&gt;Watch video to see how to create VMware Aria Operations View that shows the Custom Groups with VM metric totals:&lt;/p&gt;
&lt;div class=&#34;video-wrapper&#34;&gt;
    &lt;iframe loading=&#34;lazy&#34; 
            src=&#34;https://www.youtube.com/embed/mqODM3-6LCA&#34; 
            allowfullscreen 
            title=&#34;YouTube Video&#34;
    &gt;
    &lt;/iframe&gt;
&lt;/div&gt;

&lt;hr&gt;
&lt;h2 id=&#34;lessons-learned-and-acknowledgements&#34;&gt;Lessons Learned and acknowledgements:
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;Thank You to &lt;a class=&#34;link&#34; href=&#34;https://www.BrockPeterson.com&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Brock Peterson&lt;/a&gt; on providing input on how to get metric value totals by using Super Metrics.&lt;/li&gt;
&lt;li&gt;Thank You to my customer for the challenging question. I did not create a Dashboard like this before. I am glad we were able to create a Dashboard that answered your request and I am able to share the technique with the vCommunity.&lt;/li&gt;
&lt;li&gt;You CAN group VMs in VMware Aria Operations together by using vCenter TAGs and total the Metric Values on a single line within a List View.&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;p&gt;When I write my blogs, I always say there are many ways to accomplish the same task. This article is just one way that you could accomplish this task. I am showing what I felt was a good way to complete the use case but every organization/environment will be different. There is no right or wrong way to complete the tasks in this article.&lt;/p&gt;
&lt;hr&gt;
&lt;ul&gt;
&lt;li&gt;If you found this Blog article useful and it helped you, Buy me a coffee to start my day.&lt;/li&gt;
&lt;/ul&gt;
&lt;center&gt;
&lt;script type=&#34;text/javascript&#34; src=&#34;https://cdnjs.buymeacoffee.com/1.0.0/button.prod.min.js&#34; data-name=&#34;bmc-button&#34; data-slug=&#34;dalehassinger&#34; data-color=&#34;#FFDD00&#34; data-emoji=&#34;&#34;  data-font=&#34;Cookie&#34; data-text=&#34;Buy me a coffee&#34; data-outline-color=&#34;#000000&#34; data-font-color=&#34;#000000&#34; data-coffee-color=&#34;#ffffff&#34; &gt;&lt;/script&gt;
&lt;/center&gt;
&lt;hr&gt;</description>
        </item>
        
    </channel>
</rss>
